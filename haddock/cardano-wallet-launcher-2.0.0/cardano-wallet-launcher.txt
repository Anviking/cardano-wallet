-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | Utilities for a building commands launcher
--   
--   Utilities for a building commands launcher
@package cardano-wallet-launcher
@version 2.0.0


-- | This module contains a mechanism for launching external processes
--   together, and provides the functionality needed to kill them all if
--   one goes down. (would be achieved using <tt>monitor</tt> and
--   <tt>kill</tt> in combination)
module Cardano.Launcher
data Command
Command :: String -> [String] -> IO () -> StdStream -> Command
[cmdName] :: Command -> String
[cmdArgs] :: Command -> [String]

-- | An extra action to run _before_ the command
[cmdSetup] :: Command -> IO ()

-- | What to do with stdout &amp; stderr
[cmdOutput] :: Command -> StdStream
data StdStream

-- | Inherit Handle from parent
Inherit :: StdStream

-- | Use the supplied Handle
UseHandle :: Handle -> StdStream

-- | Create a new pipe. The returned <tt>Handle</tt> will use the default
--   encoding and newline translation mode (just like <tt>Handle</tt>s
--   created by <tt>openFile</tt>).
CreatePipe :: StdStream

-- | No stream handle will be passed
NoStream :: StdStream

-- | ProcessHasExited is used by a monitoring thread to signal that the
--   process has exited.
data ProcessHasExited
ProcessHasExited :: String -> ExitCode -> ProcessHasExited
launch :: [Command] -> IO ProcessHasExited

-- | Convert any SIGTERM received to SIGINT, for which the runtime system
--   has handlers that will correctly clean up sub-processes.
installSignalHandlers :: IO ()
instance GHC.Show.Show Cardano.Launcher.ProcessHasExited
instance GHC.Exception.Type.Exception Cardano.Launcher.ProcessHasExited
instance Formatting.Buildable.Buildable Cardano.Launcher.Command
